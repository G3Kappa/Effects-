"snta_belt_ew_empty" inherit "BELT_BASE"
{
  name = "Empty Conveyer (R->L)"
  viewId = { "snta_belt_ew_empty" }
  tickType = Effect Chain {
    Write0("_FOUND")
    NthNeighbor(0x4(), Chain {
        Filter And { Is0("_FOUND") FurnitureType "snta_belt_ns_slag" } Chain {
            Write1("_FOUND")
            PlaceFurniture "snta_belt_ns_empty"
        }
    })
    if(Is1("_FOUND")) {
      PlaceFurniture "snta_belt_ew_slag"
    }
    endif()
  }
}

"snta_belt_ew_empty_inactive" inherit "BELT_BASE"
{
  name = "Empty Conveyer (R->L)"
  viewId = { "snta_belt_ew_empty" }
  tickType = Effect PlaceFurniture "snta_belt_ew_empty"
}

"snta_belt_ew_slag" inherit "BELT_BASE"
{
  lightEmission = 3.2
  name = "Slag Conveyer (R->L)"
  viewId = { "snta_belt_ew_slag" }
  tickType = Effect Chain {
    Write0("_FOUND")
    NthNeighbor(0x2(), Chain {
      Filter And { Is0("_FOUND") FurnitureType "snta_belt_ew_empty" } Chain {
        Write1("_FOUND")
        PlaceFurniture "snta_belt_ew_slag"
      }
      Filter And { Is0("_FOUND") FurnitureType "snta_belt_ns_empty" } Chain {
        Write1("_FOUND")
        PlaceFurniture "snta_belt_ns_slag"
      }
      Filter And { Is0("_FOUND") FurnitureType "snta_belt_sn_empty" } Chain {
        Write1("_FOUND")
        PlaceFurniture "snta_belt_sn_slag"
      }
    })
    if(Is1("_FOUND")) {
      PlaceFurniture "snta_belt_ew_empty_inactive"
    } 
    endif()
  }
}