"snta_belt_sn_empty" inherit "BELT_BASE"
{
  name = "Empty Conveyer (D->U)"
  viewId = { "snta_belt_sn_empty" }
  tickType = Effect Chain {
    Write0("_FOUND")
    NthNeighbor(0x2(), Chain {
        Filter And { Is0("_FOUND") FurnitureType "snta_belt_we_slag" } Chain {
            Write1("_FOUND")
            PlaceFurniture "snta_belt_we_empty"
        }
    })
    if(Is1("_FOUND")) {
      PlaceFurniture "snta_belt_sn_slag"
    } 
    endif()
  }
}

"snta_belt_sn_empty_inactive" inherit "BELT_BASE"
{
  name = "Empty Conveyer (D->U)"
  viewId = { "snta_belt_sn_empty" }
  tickType = Effect PlaceFurniture "snta_belt_sn_empty"
}

"snta_belt_sn_slag" inherit "BELT_BASE"
{
  lightEmission = 3.2
  name = "Slag Conveyer (D->U)"
  viewId = { "snta_belt_sn_slag" }
  tickType = Effect Chain {
    Write0("_FOUND")
    NthNeighbor(0x4(), Chain {
      Filter And { Is0("_FOUND") FurnitureType "snta_belt_sn_empty" } Chain {
        Write1("_FOUND")
        PlaceFurniture "snta_belt_sn_slag"
      }
      Filter And { Is0("_FOUND") FurnitureType "snta_belt_we_empty" } Chain {
        Write1("_FOUND")
        PlaceFurniture "snta_belt_we_slag"
      }
      Filter And { Is0("_FOUND") FurnitureType "snta_belt_ew_empty" } Chain {
        Write1("_FOUND")
        PlaceFurniture "snta_belt_ew_slag"
      }
    })
    if(Is1("_FOUND")) {
      PlaceFurniture "snta_belt_sn_empty_inactive"
    } 
    endif()
  }
}
